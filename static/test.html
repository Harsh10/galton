<html>
<body>

    <head>
        <title>Galton - estimate with confidence</title>
        <link rel="stylesheet" type="text/css" href="/static/muffin.css" />
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.1/angular.min.js"></script>
    </head>

    <style> 
    </style>

    <div ng-app="galton" style="width: 600px">
        <div ng-controller="TasksCtrl">
            <div>
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>task</th>
                            <th>owner</th>
                            <th>state</th>
                            <th>estimate</th>
                        <tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="task in rally.tasks">
                            <td>{{ task.id }}</td>
                            <td>{{ task.name }}</td>
                            <td>{{ task.owner }}</td>
                            <td>{{ task.state }}</td>
                            <td style="text-align: right">{{ task.estimate }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
  

<script>
var myApp = angular.module('galton', []);

myApp.controller('TasksCtrl', ['$scope', '$http', function ($scope, $http) {
    $scope.rally = {};
    
    //$http({
    //    method: 'GET',
    //    url: 'http://localhost:8080/rallytasks'
    //})
    //.success(function (data, status, headers, config) {
    //    $scope.rally.tasks = data;
    //})
    //.error(function (data, status, headers, config) {
    //});

    var tasks = [
        {
            id: 'TA123',
            name: 'task 1',
            owner: 'dmc',
            state: 'open',
            estimate: 8
        },
        {
            id: 'TA456',
            name: 'task 2',
            owner: 'sherlock',
            state: 'completed',
            estimate: 24
        }
    ];

    $scope.rally.tasks = tasks;
}]);

</script>
</body>
</html>